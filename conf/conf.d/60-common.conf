# ==================== COMMON LOCATIONS ====================

# Health checks
location /health {
    add_header Content-Type text/plain;
    add_header Cache-Control "no-cache, no-store, must-revalidate";
    return 200 "✅ API Gateway is healthy\nVersion: 1.0.0\nTime: $time_local\n";
}

location /status {
    stub_status on;
    access_log off;
    allow 127.0.0.1;
    deny all;
}

# Статические файлы
location /static/ {
    alias /usr/share/nginx/html/static/;
    expires 1y;
    add_header Cache-Control "public, immutable";
    access_log off;
}

# Error pages
error_page 404 /404.html;
location = /404.html {
    internal;
    root /usr/share/nginx/html;
}

error_page 500 502 503 504 /50x.html;
location = /50x.html {
    internal;
    root /usr/share/nginx/html;
}